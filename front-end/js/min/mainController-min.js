var eComApp=angular.module("ecommerceApp",["ngRoute","ngCookies"]),eController=eComApp.controller("mainController",function(e,o,s,a,t){e.test="yo",e.userExists=!1;var n="http://localhost:3000";e.register=function(){console.log(e.username),s.post(n+"/register",{username:e.username,password:e.password,password2:e.password2,email:e.email}).then(function t(s){console.log(s.data),"inUse"===s.data.taken&&"no match"===s.data.message?e.errorMessage=!0:"inUse"===s.data.taken||"no match"===s.data.message?e.errorMessage=!0:e.errorMessage=!1,"inUse"===s.data.taken?e.userExists=!0:e.userExists=!1,"no match"===s.data.message?(e.noMatch=!0,console.log("passwords dont match")):e.noMatch=!1,"User Added"===s.data.message&&(o.loggedOut=!0,a.path("/options"))},function r(e){console.log(e)})},e.login=function(){s.post(n+"/login",{username:e.username,password:e.password}).then(function t(s){"badPass"===s.data.failure?(e.errorMessage=!0,e.noMatch=!0,console.log("bad password")):(e.errorMessage=!1,e.noMatch=!1),"userFound"===s.data.success&&(o.username=s.data.username,o.loggedOut=!0,console.log(o.loggedOut),a.path("/options")),"noUser"===s.data.failure&&console.log("Incorrect password")},function r(e){console.log(e)})},e.logout=function(){o.loggedOut=!0}});eComApp.config(function(e){e.when("/",{templateUrl:"views/main.html",controller:"mainController"}),e.when("/login",{templateUrl:"views/login.html",controller:"mainController"}),e.when("/register",{templateUrl:"views/register.html",controller:"mainController"}).otherwise({redirectTo:"/"})});